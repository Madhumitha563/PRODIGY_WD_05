<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Weather App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gradient-to-b from-blue-200 to-white min-h-screen flex items-center justify-center p-4">
    <div class="bg-white shadow-lg rounded-xl p-6 w-full max-w-md text-center">
        <h1 class="text-2xl font-bold mb-4 text-blue-600">üå§Ô∏è Weather App</h1>

        <input type="text" id="cityInput" placeholder="Enter city name..." class="border px-4 py-2 w-full mb-3 rounded" />
        <div class="flex justify-between mb-4">
            <button onclick="getWeatherByCity()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Search</button>
            <button onclick="getWeatherByLocation()" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">Use Location</button>
        </div>

        <div id="weatherResult" class="text-gray-700 mt-4 hidden">
            <h2 class="text-xl font-semibold mb-2" id="location"></h2>
            <p id="description" class="text-lg italic"></p>
            <p class="text-5xl font-bold mt-2" id="temperature"></p>
            <p class="mt-2">Humidity: <span id="humidity"></span>%</p>
            <p>Wind Speed: <span id="wind"></span> m/s</p>
        </div>
    </div>

    <script>
        const apiKey = 'c61a4d6aaf85275a1349b50348f5f725'; // Replace with your OpenWeatherMap API key

        async function getWeather(city) {
            const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`);
            const data = await res.json();
            displayWeather(data);
        }

        async function getWeatherByCoords(lat, lon) {
            const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric`);
            const data = await res.json();
            displayWeather(data);
        }

        function getWeatherByCity() {
            const city = document.getElementById("cityInput").value;
            if (city.trim() !== "") {
                getWeather(city);
            }
        }

        function getWeatherByLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    position => {
                        getWeatherByCoords(position.coords.latitude, position.coords.longitude);
                    },
                    () => {
                        alert("Unable to access your location.");
                    }
                );
            } else {
                alert("Geolocation is not supported by your browser.");
            }
        }

        function displayWeather(data) {
            if (data.cod !== 200) {
                alert("City not found.");
                return;
            }

            document.getElementById("weatherResult").classList.remove("hidden");
            document.getElementById("location").textContent = `${data.name}, ${data.sys.country}`;
            document.getElementById("description").textContent = data.weather[0].description;
            document.getElementById("temperature").textContent = `${data.main.temp} ¬∞C`;
            document.getElementById("humidity").textContent = data.main.humidity;
            document.getElementById("wind").textContent = data.wind.speed;
        }
    </script>
</body>

</html>

</html>
